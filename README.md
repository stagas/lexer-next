<h1 align="center">lexer-next</h1>

<p align="center">
lexer for recursive descent parsers
</p>

<p align="center">
   <a href="#install">        üîß <strong>Install</strong></a>
 ¬∑ <a href="#example">        üß© <strong>Example</strong></a>
 ¬∑ <a href="#api">            üìú <strong>API docs</strong></a>
 ¬∑ <a href="https://github.com/stagas/lexer-next/releases"> üî• <strong>Releases</strong></a>
 ¬∑ <a href="#contribute">     üí™üèº <strong>Contribute</strong></a>
 ¬∑ <a href="https://github.com/stagas/lexer-next/issues">   üñêÔ∏è <strong>Help</strong></a>
</p>

---

## Install

```sh
$ npm i lexer-next
```

## What's this?

It is a lexer generator for writing [Recursive descent parsers](https://en.wikipedia.org/wiki/Recursive_descent_parser) and is compatible with RegExp's **named group** matches as returned, for example, by [`String.prototype.matchAll()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll).

## Example

```ts
import { createLexer } from 'lexer-next'

const tokenize = (input: string) =>
  input.matchAll(/(?<ident>[a-z]+)|(?<number>[0-9]+)/g)

const lexer = createLexer(tokenize)

const { advance, peek, accept, expect } = lexer('hello 1337 world')

console.log(advance())
// => { group: 'ident', value: 'hello', index: 0 }

console.log(accept('ident'))
// => undefined

console.log(accept('number'))
// => { group: 'number', value: '1337', index: 6 }

console.log(peek())
// => { group: 'ident', value: 'world', index: 11 }

console.log(expect('number'))
// => SyntaxError: Unexpected token: world
//       expected: number
//   but received: ident "world"
//    at position: 11
```

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

- [Lexer](#lexer)
  - [advance](#advance)
  - [peek](#peek)
  - [accept](#accept)
    - [Parameters](#parameters)
  - [expect](#expect)
    - [Parameters](#parameters-1)
- [LexerFactory](#lexerfactory)
- [createLexer](#createlexer)
  - [Parameters](#parameters-2)

### Lexer

[src/index.ts:10-32](https://github.com/stagas/lexer-next/blob/cfe6fdfe7cdb68da117f625c5d46583a089165f1/src/index.ts#L10-L32 'Source code on GitHub')

Lexer interface.

#### advance

[src/index.ts:14-14](https://github.com/stagas/lexer-next/blob/cfe6fdfe7cdb68da117f625c5d46583a089165f1/src/index.ts#L14-L14 'Source code on GitHub')

Returns token under current position and advances.

Type: function (): TokenReturn

#### peek

[src/index.ts:18-18](https://github.com/stagas/lexer-next/blob/cfe6fdfe7cdb68da117f625c5d46583a089165f1/src/index.ts#L18-L18 'Source code on GitHub')

Returns token under current position.

Type: function (): TokenReturn

#### accept

[src/index.ts:25-25](https://github.com/stagas/lexer-next/blob/cfe6fdfe7cdb68da117f625c5d46583a089165f1/src/index.ts#L25-L25 'Source code on GitHub')

Advances position only when current `token.group` matches `group`,
otherwise does nothing.

Type: function (group: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)): TokenReturn

##### Parameters

- `group` The group name to examine

#### expect

[src/index.ts:31-31](https://github.com/stagas/lexer-next/blob/cfe6fdfe7cdb68da117f625c5d46583a089165f1/src/index.ts#L31-L31 'Source code on GitHub')

Same as accept() except it throws when `token.group` does not match `group`.

Type: function (group: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)): TokenReturn

##### Parameters

- `group` The group name to examine

### LexerFactory

[src/index.ts:37-37](https://github.com/stagas/lexer-next/blob/cfe6fdfe7cdb68da117f625c5d46583a089165f1/src/index.ts#L34-L36 'Source code on GitHub')

Generate a [Lexer](#lexer) for given input string.

Type: function (input: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)): [Lexer](#lexer)

### createLexer

[src/index.ts:48-79](https://github.com/stagas/lexer-next/blob/cfe6fdfe7cdb68da117f625c5d46583a089165f1/src/index.ts#L48-L79 'Source code on GitHub')

Create a [LexerFactory](#lexerfactory) with the given [LexerTokenizer](LexerTokenizer).

It can be anything that, when called with an `input` string, returns an interface that conforms to
the `IterableIterator<RegExpMatchArray>` type as is returned, for example,
by [`String.prototype.matchAll(regexp)`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll)

#### Parameters

- `tokenize` **LexerTokenizer** A tokenizer Iterable factory.

## Contribute

[Fork](https://github.com/stagas/lexer-next/fork) or
[edit](https://github.dev/stagas/lexer-next) and submit a PR.

All contributions are welcome!

## License

MIT ¬© 2021
[stagas](https://github.com/stagas)
